<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Staffs Theatre - Tickets</title>
  <meta name="description" content="Staffs Theatre">
  <meta name="author" content="A.Simpson">

  <link rel="stylesheet" href="css/styles.css?v=1.0">

</head>

  <script>
     function validateForm() {
      var a = document.forms["myForm"]["name"].value;
      var b = document.forms["myForm"]["address"].value;
      var c = document.forms["myForm"]["show"].value;
      var cPrice = "";
      var d = document.forms["myForm"]["delivery"].value;
      var e = document.forms["myForm"]["seats"].value;
      var iSeats = parseInt(e);
      var iPrice = 0;
      var iTotal = 0;
      var iSubTotal = 0.00;
      var iDiscount = 0;
      var fPandP = 0.00;

      if (d == "Collection"){
        var fPandP = 1.50;
      }
      else if (d == "Postal"){
        var fPandP = 3.99;
      }

      if (iSeats >=10) {
        var iDiscount = 15;
      }
      else if (iSeats >6) {
        var iDiscount = 10;
      }

      if (a == null || a == "" || b == null || b == "" || c == null || c == "" || d == null || d == "") {
        alert("Please Fill All Required Fields");
        return false;
      }
      else if (c == "Phantom Of The Opera        £79 each"){
        var cPrice = "79";
        var iPrice = parseFloat(cPrice);
        var iTotal = iPrice*iSeats;
        var iSubTotal = iTotal - (iTotal*(iDiscount/100)) + fPandP;
        var con = confirm("Order Summary:\nPerformance:\n" + c + "\nNumber of seats:\n" + e + "\nTotal:\n£" + iPrice + " x " + iSeats + " = £" + iTotal + "\nDiscount:\n" + iDiscount + "% off £" + iTotal + "\nDelivery Method:\n" + d + ": £" + fPandP.toFixed(2) + "\nSub Total:\n£" + iSubTotal.toFixed(2));
        if (con == true) {
          alert("Order Placed");
        }
        else {
          alert("Order Cancelled");
        }
        
      }
      else if (c == "Hamilton        £85 each"){
        var cPrice = "85";
        var iPrice = parseFloat(cPrice);
        var iTotal = iPrice*iSeats;
        var iSubTotal = iTotal - (iTotal*(iDiscount/100)) + fPandP;
        var con = confirm("Order Summary:\nPerformance:\n" + c + "\nNumber of seats:\n" + e + "\nTotal:\n£" + iPrice + " x " + iSeats + " = £" + iTotal + "\nDiscount:\n" + iDiscount + "% off £" + iTotal + "\nDelivery Method:\n" + d + ": £" + fPandP.toFixed(2) + "\nSub Total:\n£" + iSubTotal.toFixed(2));
        if (con == true) {
          alert("Order Placed");
        }
        else {
          alert("Order Cancelled");
        }
        
      }
      else if (c == "Lion King        £67 each"){
        var cPrice = "67";
        var iPrice = parseFloat(cPrice);
        var iTotal = iPrice*iSeats;
        var iSubTotal = iTotal - (iTotal*(iDiscount/100)) + fPandP;
        var con = confirm("Order Summary:\nPerformance:\n" + c + "\nNumber of seats:\n" + e + "\nTotal:\n£" + iPrice + " x " + iSeats + " = £" + iTotal + "\nDiscount:\n" + iDiscount + "% off £" + iTotal + "\nDelivery Method:\n" + d + ": £" + fPandP.toFixed(2) + "\nSub Total:\n£" + iSubTotal.toFixed(2));
        if (con == true) {
          alert("Order Placed");
        }
        else {
          alert("Order Cancelled");
        }
        
      }
      else if (c == "Miss Saigon        £83 each"){
        var cPrice = "83";
        var iPrice = parseFloat(cPrice);
        var iTotal = iPrice*iSeats;
        var iSubTotal = iTotal - (iTotal*(iDiscount/100)) + fPandP;
        var con = confirm("Order Summary:\nPerformance:\n" + c + "\nNumber of seats:\n" + e + "\nTotal:\n£" + iPrice + " x " + iSeats + " = £" + iTotal + "\nDiscount:\n" + iDiscount + "% off £" + iTotal + "\nDelivery Method:\n" + d + ": £" + fPandP.toFixed(2) + "\nSub Total:\n£" + iSubTotal.toFixed(2));
        if (con == true) {
          alert("Order Placed");
        }
        else {
          alert("Order Cancelled");
        }
       
      }
    }
  </script>

<body>
    <h1>Book Tickets:</h1><br>
    <form name="myForm" action="" onsubmit="return validateForm()">
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name"><br>
        <li class="rq">*Required Field</li>

        <label for="address">Address:</label><br>
        <input type="text" id="address" name="address">
        <li class="rq">*Required Field</li>
        
       <h2>Performance:</h2>
       

        <input type="radio" id="phantom" name="show" value="Phantom Of The Opera        £79 each">
        <label for="phantom">Phantom Of The Opera - £79 per ticket</label><br>

        <input type="radio" id="hamilton" name="show" value="Hamilton        £85 each">
        <label for="hamilton">Hamilton - £85 per ticket</label><br>

        <input type="radio" id="lionking" name="show" value="Lion King        £67 each">
        <label for="lionking">Lion King - £67 per ticket</label><br>

        <input type="radio" id="misssaigon" name="show" value="Miss Saigon        £83 each">
        <label for="misssaigon">Miss Saigon - £83 per ticket</label>
        <li class="rq">*Required Field</li>

        <h2>Number of Seats:</h2>

        <select id="seats" name="seats">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
        </select>

        <h2>Delivery Method:</h2>
        

        <input type="radio" id="eticket" name="delivery" value="E-Ticket">
        <label for="eticket">via E-Ticket - FREE</label><br>

        <input type="radio" id="collection" name="delivery" value="Collection">
        <label for="collection">via Collection - £1.50</label><br>

        <input type="radio" id="postal" name="delivery" value="Postal">
        <label for="postal">via Post - £3.99</label><br>
        <li class="rq">*Required Field</li>

        <input type="submit" id="submit" value="Submit">

      </form>
</body>
</html>